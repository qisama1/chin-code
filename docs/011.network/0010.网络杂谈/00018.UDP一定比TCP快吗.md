# UDP一定比TCP快吗

一个很好玩的比喻，TCP像是打电话，你是可以知道对方接没接的。UDP就像寄信，你不知道对方到底有没有收到。

## 面对丢包的态度

由于可靠性这三个字，TCP就要做很多的保障。

### 重传机制
对于TCP会给发送的消息一个编号seq，然后期待一个ack，等待接收方回复。发送方就可以通过ack确定接收方收到了什么seq的包。

如果长时间没有等到ack，就会触发重传机制。

### 流量控制机制
重传对于性能的影响是比较大的，所以要尽量避免重传。

因为发送方和接收方的数据处理能力可能不同，那么双方应该依据自己的能力去调整发送的数据量。于是有了发送和接收窗口。

接收窗口的大小：就是接收方能收到的数据量大小
发送窗口的大小：发送方能够发的数据量的大小

TCP根据窗口的大小去控制发送的数据量，这样就能减少丢包的情况。


### 滑动窗口机制
接收方收到数据之后会不断处理，处理能力也会发生变化，于是要动态的调节接受窗口的大小，于是有了滑动窗口机制。

TCP是根据滑动窗口来实现流量控制的。

### 拥塞控制机制
TCP有拥塞控制机制

### 什么时候UDP比TCP慢
由于UDP是以数据报为单位的，那么如果发生丢包，需要重传的就是整个数据，不同于TCP的只需要重传分片。