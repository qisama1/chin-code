# 为什么有了HTTP还要有RPC

这一节完全从我自己的角度来回答

## 1. 只有TCP够不够
回答是当然不够，如果只有TCP，那么面向字节流的TCP是无法应对沾包半包问题的，收到“abcdef”无法识别“abc”，“def”是两个不同的信息。所以要有上层的应用层协议来处理才行，那么就要有HTTP、RPC。

## 2. HTTP与RPC之间的差别
1. 首先是先有的RPC再有的HTTP，所以要问也是为什么有RPC了还有HTTP
2. 两者最大的区别是一般的RPC都是定制化的协议，所以它的协议头都对比HTTP比较精简。
3. HTTP的环境是浏览器/服务器架构盛行，HTTP能够和浏览器的请求良好的适配。

具体的差别有：
1. 服务发现：一般来说HTTP要用上DNS去解析域名，而RPC一般与ZK、etcd、NACOS这样的服务发现中间件相配合。
2. 传输内容：协议头有很大的区别：HTTP头部要考虑很多如跳转、HTTP状态等信息，所以很繁杂。
3. 现在出现HTTP2以后如GRPC也是使用了HTTP2作为协议，但是由于一些历史版本问题，基本上也都没有进行更换。