# 字符串索引优化
> 索引的使用也不是一成不变的，一些小小的优化，可能让性能更优很多~

## 邮件属性
我们知道，一个页默认16kb，它能存放的数据是有限的，所以在有限空间内可以存放更多的数据进去，让页的利用率更高，就能使得我们的查询效率也更高。那么一个占用更小的索引，似乎就显得有必要了。

如一个邮件属性，我们是不是可以考虑使用例如前6位，或者前7位作为一个索引呢？
如果你发现使用某些前缀可以有效的将所有的数据区分开，似乎这也是一种很棒的优化方式了。

### 覆盖索引的问题
当然，你使用这样的优化方式，你就失去了这个列的部分信息了，那就势必需要回表，所以当你可以使用覆盖索引的时候，这么看起来反而像是一个拖累。
那么在你进行这个优化之前也得看看，你是否用上了覆盖索引。

## 身份证属性
那我们都知道身份证可长了，可是我们身份证明显前几位是很难区分的，那么该怎么办呢?

### 倒序
把字符串倒过来当索引，因为我们的身份证的后面是区分度很大的，比较适合当索引，所以这样倒过来当索引也挺不错。
### hash
多一个属性为身份证的哈希值，使用一个好的哈希算法，也是可以很大程度上的避免冲突，而且也可以很好的区分开这些身份证号。
### 问题
当然，事情不可能就这么简单，这里就有几个问题啦。
1. 没法应对范围搜索。
2. 没法处理like模糊查询。
3. 像hash就需要格外的一个列存储。
4. 所以使用前你也要把上述因素考虑进去。