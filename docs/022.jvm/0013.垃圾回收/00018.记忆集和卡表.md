# 记忆集和卡表

为了解决对象跨代引用的问题，垃圾收集器建立了记忆集这个数据结构。

记忆集：从非收集区域指向收集区域的指针的集合的抽象数据结构。

## 记录精度

1. 字长精度
表示32位或者64位范围内有跨代指针
2. 对象精度
表示对象里有跨代指针
3. 卡精度
一块内存区域内有跨代指针，用卡表来记录

## 卡表
卡页其实就是一个内存页，就是把内存分为2的n次方个的内存区域，用这么一个数据结构去维护这里面有无跨代指针。

HotSpot里是用写屏障对“引用类型字段赋值”这个动作的APO切面中去更新卡表。