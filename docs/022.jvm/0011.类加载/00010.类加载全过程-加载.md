# 类加载全过程-加载

## 加载做了什么
我们经过了javac，已经把java文件编译成了class文件。同时也正是因为这个过程，才让java是一个编译和解释共存的语言。它并不是把java文件直接变成可以执行的二进制文件，而是编译成了class，然后再去解释。

那么加载就是把这个class文件给解释出来的过程，把class文件给加载到jvm当中。

## 加载的过程
1. 通过一个类的全限定名来获取二进制字节流（全限定名的获取是通过CONSTATN_CLASS_INFO->CONSTANT_UTF8_INFO获取的）
2. 将这个字节流代表的静态存储结构转化为方法区里的运行时数据结构（class文件是一个静态的二进制文件，里面存放了类中所有的字面量信息）
3. 在内存中生成一个类的java.lang.Class对象，作为方法区这个类中各种数据的访问入口（生成的对象在堆中，我们所有的访问入口都在堆里，然后直接连接方法区，但是方法区在java8后也是在堆中了）
4. 数组类就比较特别，它并不是通过类加载器创建，而是由jvm虚拟机动态构建出来的。

### 数组类的加载
数组类不会由类加载器来加载，但是它的类型是要经过加载的。
1. 如果是引用类型，那么会被标识在该类型的类加载器的类名空间上
2. 如果是基础类型，会被标识在引导类加载器，如int[]
3. 数组类的访问级别和它的类型是一致的，如果是基础类型，那就是public的

同时数组类的加载引起的类型的加载只会经过加载，并不会经过初始化。

